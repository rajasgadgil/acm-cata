!function(t,o,e,r){function i(){this.wcpEditorSettings=r,this.actionStack=new Array,this.actionIndex=0,this.canvasImage=new Image,this.canvasWidth=0,this.canvasHeight=0,this.canvas=r,this.ix=0,this.iy=0,this.x=0,this.y=0,this.dx=0,this.dy=0,this.drawRectWidth=0,this.drawRectHeight=0,this.transformX=0,this.transformY=0,this.transformWidth=0,this.transformHeight=0,this.eventSpotId=r,this.redrawEl=r,this.redrawSvgEl=r,this.redrawPolygonEl=r,this.tempControlPoint=r,this.tempControlPointLine=r,this.tempControlPointIndex=r,this.controlPointInsertionPointX=0,this.controlPointInsertionPointY=0,this.translatedPointIndex=0,this.translatedPoint=r,this.translatedPointX=0,this.translatedPointY=0,this.polyPoints=new Array,this.startedSelecting=!1,this.startedMoving=!1,this.startedTransforming=!1,this.transformDirection=0,this.startedDrawingSpot=!1,this.startedDrawingRect=!1,this.createdDrawingRect=!1,this.startedDrawingOval=!1,this.createdDrawingOval=!1,this.startedDrawingPoly=!1,this.drawingPoly=!1,this.finishedDrawingPoly=!1,this.mouseDownWhileDrawingPoly=!1,this.startedTranslatingControlPoint=!1,this.translatingControlPoint=!1,this.didDeleteControlPoint=!1,this.shouldDeselectSpot=!1,this.selectedSpot=r,this.eventSpot=r,this.shapesFormSpotIndex=r,this.iconsHTML=r}function n(o,e,i,n){o.complete&&o.naturalWidth!==r&&o.naturalHeight!==r?i():(e(),t(o).on("load",function(){t(o).off("load"),i()}),t(o).on("error",function(){t(o).off("error"),n()}))}function a(t){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null}function s(t,o,e){return{x:Math.round(10*(t-e.offset().left))/10,y:Math.round(10*(o-e.offset().top))/10}}function d(t,o){return{x:o.width*(t.x/100)+o.x,y:o.height*(t.y/100)+o.y}}function l(t,o){return{x:(t.x-o.x)/o.width*100,y:(t.y-o.y)/o.height*100}}function p(t,o){return t<0&&(t=0),t>100&&(t=100),o<0&&(o=0),o>100&&(o=100),{x:Math.round(10*t)/10,y:Math.round(10*o)/10}}function c(t,o){for(var e=t.x,r=t.y,i=!1,n=0,a=o.length-1;n<o.length;a=n++){var s=o[n][0],d=o[n][1],l=o[a][0],p=o[a][1],c=d>r!=p>r&&e<(l-s)*(r-d)/(p-d)+s;c&&(i=!i)}return i}function _(t,o,e,r,i,n){return Math.abs((r-o)*i-(e-t)*n+e*o-r*t)/Math.sqrt(Math.pow(r-o,2)+Math.pow(e-t,2))}function h(t,o,e){var r=e[0]-o[0],i=e[1]-o[1],n=t[0]-o[0],a=t[1]-o[1];return(n*r+a*i)/(r*r+i*i)}var y=r,u=r,f=!1,g=r,S=0,w={id:4333,editor:{previewMode:0,selected_shape:"spot-8364",tool:"poly"},general:{name:"Demo",width:1280,height:776,responsive:1,sticky_tooltips:0,constrain_tooltips:1,image_url:"https://webcraftplugins.com/uploads/image-map-pro/demo.jpg",tooltip_animation:"grow",pageload_animation:"none",fullscreen_tooltips:"none",late_initialization:0},spots:[{id:"spot-8364",type:"spot",x:26,y:19.8,width:44,height:44,actions:{mouseover:"show-tooltip",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#000000",fill_opacity:.4,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:1,icon_type:"library",icon_svg_path:"M409.81,160.113C409.79,71.684,338.136,0,249.725,0C161.276,0,89.583,71.684,89.583,160.113     c0,76.325,119.274,280.238,151.955,334.638c1.72,2.882,4.826,4.641,8.178,4.641c3.351,0,6.468-1.759,8.168-4.631     C290.545,440.361,409.81,236.438,409.81,160.113z M249.716,283.999c-68.303,0-123.915-55.573-123.915-123.895     c0-68.313,55.592-123.895,123.915-123.895s123.876,55.582,123.876,123.895S318.029,283.999,249.716,283.999z",icon_svg_viewbox:"0 0 499.392 499.392",icon_fill:"#000000",icon_url:"",icon_is_pin:1,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffffff",fill_opacity:.4,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#ffcd00"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"left",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Mouseover the building below!",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[],vs:[]},{id:"poly-2893",type:"poly",x:15.75744680851064,y:22.26270172030207,width:22.844376899696048,height:65.97720051389715,actions:{mouseover:"show-tooltip",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:450,auto_width:0},tooltip_content:{content_type:"content-builder",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-359931","settings":{"elements":[{"settings":{"name":"Heading","iconClass":"fa fa-header"},"options":{"heading":{"text":"Content Builder for the Tooltips"}}},{"settings":{"name":"Image","iconClass":"fa fa-camera"},"options":{"layout":{"column_span":{"lg":{"class":"col-lg-6"}}}}},{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"},"options":{"text":{"text":"Image Map Pro 3.0 comes with a fully featured content builder that allows you to add rich content to your tooltips. Images, video, buttons, responsive grid system - it has it all!"},"layout":{"column_span":{"lg":{"class":"col-lg-6"}}}}},{"settings":{"name":"Button","iconClass":"fa fa-link"},"options":{"button":{"text":"Example Button!","display":"block"}}}]}}]}'},points:[{x:2.8712844939993056,y:100},{x:3.536549668697936,y:95.06062700400813},{x:.8754889699034004,y:95.06062700400813},{x:0,y:47.12265849973005},{x:.7847960076976461,y:23.53692508155694},{x:3.9088248123944527,y:17.15586649440026},{x:12.222274912965194,y:15.76484496015944},{x:15.056281433779493,y:7.219083609526608},{x:19.502913861465178,y:6.533930832820084},{x:19.502913861465178,y:4.254220219285366},{x:26.155565608451525,y:1.9745096057506475},{x:33.47348253013651,y:.8346542989832882},{x:38.79560392772559,y:.4547025300608352},{x:44.78299050001331,y:0},{x:52.766172596396935,y:1.8997588446122655},{x:59.41882434338327,y:.7599035378449062},{x:64.49612815668326,y:2.2028938646528204},{x:70.93855610846484,y:3.267998410281798},{x:70.30788472285052,y:9.951430765378646},{x:85.60898374091914,y:7.900104410746106},{x:100,y:12.231141378913366},{x:99.33473482530137,y:71.50361733081603},{x:94.67787860241093,y:71.1236655618936},{x:94.67787860241093,y:73.02342440650584},{x:74.71992336145188,y:73.02342440650584},{x:74.71992336145188,y:99.62004823107758}],vs:[[210.09118541033433,684.7416413373859],[212.03647416413372,659.4528875379939],[204.25531914893617,659.4528875379939],[201.69531914893616,414.0186018237082],[203.99012564995655,293.2636383750531],[213.12503655683665,260.593698339942],[237.43423174842115,253.4719035012826],[245.72109422492397,209.7190516717325],[258.7234042553191,206.21118541033434],[258.7234042553191,194.53945288753798],[278.17629179331306,182.86772036474164],[299.57446808510633,177.03185410334345],[315.1367781155015,175.08656534954406],[332.64437689969606,172.75856534954406],[355.9878419452888,182.48500911854103],[375.44072948328267,176.64914285714283],[390.2871732522796,184.03700911854102],[409.12534954407295,189.49016413373857],[407.2812158054711,223.70820668693008],[452.0228571428571,213.20576291793313],[494.10334346504555,235.37993920972644],[492.15805471124617,538.8449848024316],[478.54103343465044,536.8996960486323],[478.54103343465044,546.6261398176291],[420.18237082066867,546.6261398176291],[420.18237082066867,682.7963525835867]]},{id:"poly-974",type:"poly",x:41.03343465045592,y:2.50681540438066,width:19.908814589665656,height:84.47967912762823,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:3.0534351145038165,y:91.98813056379822},{x:0,y:10.979228486646884},{x:11.450381679389313,y:7.71513353115727},{x:11.450381679389313,y:6.528189910979229},{x:3.0534351145038165,y:3.857566765578635},{x:29.00763358778626,y:0},{x:55.72519083969466,y:5.934718100890208},{x:60.30534351145038,y:5.341246290801187},{x:72.51908396946564,y:8.605341246290802},{x:73.2824427480916,y:9.792284866468842},{x:93.12977099236642,y:14.540059347181009},{x:93.12977099236642,y:28.18991097922849},{x:100,y:30.267062314540063},{x:98.47328244274809,y:100},{x:58.01526717557252,y:100},{x:57.25190839694656,y:91.3946587537092},{x:25.190839694656486,y:91.0979228486647},{x:25.190839694656486,y:89.31750741839762},{x:10.687022900763358,y:89.02077151335311},{x:10.687022900763358,y:90.80118694362018}],vs:[[533.0091185410333,622.4924012158053],[525.2279635258358,91.4285714285714],[554.4072948328267,70.0303951367781],[554.4072948328267,62.24924012158054],[533.0091185410333,44.741641337386014],[599.1489361702127,19.45288753799392],[667.2340425531914,58.358662613981764],[678.9057750759878,54.46808510638297],[710.030395136778,75.86626139817629],[711.9756838905774,83.64741641337383],[762.5531914893617,114.77203647416411],[762.5531914893617,204.25531914893614],[780.0607902735562,217.8723404255319],[776.1702127659574,675.0151975683889],[673.0699088145896,675.0151975683889],[671.1246200607902,618.6018237082064],[589.4224924012158,616.6565349544071],[589.4224924012158,604.9848024316108],[552.4620060790272,603.0395136778113],[552.4620060790272,614.7112462006078]]},{id:"poly-225",type:"poly",x:64.74164133738601,y:16.043618588036225,width:18.84498480243161,height:71.4442390248488,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:1.6129032258064515,y:92.28070175438596},{x:0,y:25.6140350877193},{x:2.4193548387096775,y:25.6140350877193},{x:2.4193548387096775,y:12.982456140350877},{x:15.32258064516129,y:11.578947368421053},{x:15.32258064516129,y:5.964912280701754},{x:31.451612903225808,y:4.912280701754386},{x:30.64516129032258,y:2.807017543859649},{x:54.03225806451613,y:1.7543859649122806},{x:54.83870967741935,y:3.1578947368421053},{x:77.41935483870968,y:0},{x:91.12903225806451,y:5.614035087719298},{x:91.93548387096774,y:21.75438596491228},{x:98.38709677419355,y:25.6140350877193},{x:100,y:81.05263157894737},{x:98.38709677419355,y:89.47368421052632},{x:86.29032258064517,y:89.47368421052632},{x:85.48387096774194,y:99.64912280701755},{x:3.225806451612903,y:100}],vs:[[832.5835866261398,636.1094224924011],[828.693009118541,266.5045592705167],[834.5288753799392,266.5045592705167],[834.5288753799392,196.47416413373858],[865.6534954407294,188.69300911854103],[865.6534954407294,157.56838905775075],[904.5592705167173,151.73252279635258],[902.6139817629179,140.06079027355622],[959.0273556231002,134.22492401215806],[960.9726443768997,142.0060790273556],[1015.4407294832827,124.4984802431611],[1048.5106382978722,155.62310030395136],[1050.4559270516718,245.1063829787234],[1066.018237082067,266.5045592705167],[1069.9088145896656,573.8601823708206],[1066.018237082067,620.547112462006],[1036.838905775076,620.547112462006],[1034.8936170212764,676.9604863221883],[836.4741641337386,678.9057750759878]]},{id:"poly-1879",type:"poly",x:88.14589665653494,y:53.14448657286999,width:11.854103343465045,height:35.09541566132924,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:5.128205128205128,y:99.28571428571429},{x:3.8461538461538463,y:19.28571428571429},{x:0,y:13.571428571428571},{x:8.974358974358974,y:13.571428571428571},{x:10.256410256410255,y:10},{x:14.102564102564102,y:9.285714285714286},{x:15.384615384615385,y:5.714285714285714},{x:98.71794871794873,y:0},{x:100,y:100}],vs:[[1136.0486322188447,682.7963525835867],[1134.1033434650453,464.9240121580547],[1128.267477203647,449.36170212765956],[1141.8844984802429,449.36170212765956],[1143.8297872340422,439.6352583586626],[1149.6656534954404,437.6899696048632],[1151.6109422492398,427.9635258358662],[1278.0547112462002,412.4012158054711],[1279.9999999999995,684.741641337386]]},{id:"poly-5080",type:"poly",x:3.1914893617021276,y:57.15539121987905,width:12.613981762917934,height:31.08451101432018,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:1.2048192771084338,y:100},{x:0,y:92.74193548387096},{x:13.253012048192772,y:90.32258064516128},{x:14.457831325301203,y:87.09677419354838},{x:28.915662650602407,y:87.09677419354838},{x:32.53012048192771,y:50},{x:38.55421686746988,y:41.12903225806452},{x:45.78313253012048,y:41.12903225806452},{x:44.57831325301205,y:20.967741935483872},{x:66.26506024096386,y:15.32258064516129},{x:67.46987951807229,y:2.4193548387096775},{x:83.13253012048193,y:0},{x:98.79518072289156,y:4.838709677419355},{x:100,y:99.19354838709677}],vs:[[42.796352583586625,684.741641337386],[40.85106382978723,667.2340425531914],[62.24924012158054,661.3981762917932],[64.19452887537993,653.6170212765958],[87.53799392097264,653.6170212765958],[93.37386018237082,564.1337386018237],[103.10030395136778,542.7355623100304],[114.77203647416414,542.7355623100304],[112.82674772036475,494.10334346504555],[147.8419452887538,480.48632218844983],[149.7872340425532,449.36170212765956],[175.07598784194528,443.5258358662614],[200.3647416413374,455.1975683890577],[202.31003039513678,682.7963525835866]]},{id:"poly-3579",type:"poly",x:33.586626139817625,y:69.9401497822204,width:7.598784194528875,height:18.55043399241688,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:100,y:0},{x:0,y:9.45945945945946},{x:4,y:97.2972972972973},{x:84,y:100},{x:80,y:56.75675675675676},{x:100,y:52.702702702702695}],vs:[[527.1732522796352,542.7355623100303],[429.9088145896656,556.3525835866261],[433.7993920972644,682.7963525835866],[511.61094224924005,686.6869300911853],[507.7203647416413,624.4376899696048],[527.1732522796352,618.6018237082067]]},{id:"poly-919",type:"poly",x:39.66565349544073,y:77.71127753580045,width:12.917933130699089,height:10.277943157960705,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:96.47058823529412,y:100},{x:100,y:26.82926829268293},{x:50.588235294117645,y:17.073170731707318},{x:50.588235294117645,y:12.195121951219512},{x:44.70588235294118,y:0},{x:28.235294117647058,y:0},{x:27.058823529411764,y:14.634146341463413},{x:0,y:24.390243902439025},{x:1.1764705882352942,y:97.5609756097561}],vs:[[667.2340425531916,682.7963525835866],[673.0699088145897,624.4376899696048],[591.3677811550152,616.6565349544072],[591.3677811550152,612.7659574468084],[581.6413373860182,603.0395136778114],[554.4072948328268,603.0395136778114],[552.4620060790273,614.7112462006078],[507.72036474164133,622.4924012158053],[509.6656534954407,680.8510638297871]]},{id:"poly-9983",type:"poly",x:60.334346504559264,y:73.95105442922947,width:4.86322188449848,height:14.038166264531696,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:15.625,y:0},{x:84.375,y:0},{x:96.875,y:10.714285714285714},{x:100,y:96.42857142857143},{x:0,y:100},{x:0,y:16.071428571428573}],vs:[[782.0060790273557,573.8601823708207],[824.8024316109422,573.8601823708207],[832.5835866261398,585.531914893617],[834.5288753799392,678.9057750759879],[772.2796352583587,682.7963525835867],[772.2796352583587,591.3677811550152]]},{id:"poly-9416",type:"poly",x:80.69908814589665,y:74.20173596966752,width:8.054711246200611,height:13.78748472409363,actions:{mouseover:"no-action",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:0,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"",icon_svg_viewbox:"",icon_fill:"#2196f3",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffcd00",fill_opacity:.5112781954887218,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:1},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_json:'{"containers":[{"id":"sq-container-403761","settings":{"elements":[{"settings":{"name":"Paragraph","iconClass":"fa fa-paragraph"}}]}}]}'},points:[{x:0,y:98.18181818181819},{x:0,y:47.27272727272727},{x:30.188679245282955,y:41.81818181818181},{x:33.962264150943305,y:.029659090909091627},{x:84.90566037735844,y:0},{x:98.11320754716974,y:10.909090909090908},{x:100,y:100}],vs:[[1032.9483282674773,680.8510638297872],[1032.9483282674773,626.3829787234042],[1064.0729483282676,620.547112462006],[1067.9635258358662,575.8372036474163],[1120.48632218845,575.80547112462],[1134.1033434650458,587.4772036474163],[1136.0486322188451,682.7963525835866]]}]},m=r,v={id:0,editor:{previewMode:0,selected_shape:-1,tool:"spot"},general:{name:"",shortcode:"",width:1050,height:700,responsive:1,sticky_tooltips:0,constrain_tooltips:1,image_url:"https://webcraftplugins.com/uploads/image-map-pro/demo.jpg",tooltip_animation:"grow",pageload_animation:"none",fullscreen_tooltips:"none",late_initialization:0},spots:[]},b={id:"spot-0",type:"spot",x:-1,y:-1,width:44,height:44,actions:{mouseover:"show-tooltip",click:"no-action",link:"#",open_link_in_new_window:1},default_style:{opacity:1,border_radius:50,background_color:"#000000",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#000000",fill_opacity:.4,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",use_icon:0,icon_type:"library",icon_svg_path:"M409.81,160.113C409.79,71.684,338.136,0,249.725,0C161.276,0,89.583,71.684,89.583,160.113     c0,76.325,119.274,280.238,151.955,334.638c1.72,2.882,4.826,4.641,8.178,4.641c3.351,0,6.468-1.759,8.168-4.631     C290.545,440.361,409.81,236.438,409.81,160.113z M249.716,283.999c-68.303,0-123.915-55.573-123.915-123.895     c0-68.313,55.592-123.895,123.915-123.895s123.876,55.582,123.876,123.895S318.029,283.999,249.716,283.999z",icon_svg_viewbox:"0 0 499.392 499.392",icon_fill:"#000000",icon_url:"",icon_is_pin:0,icon_shadow:0},mouseover_style:{opacity:1,border_radius:50,background_color:"#ffffff",background_opacity:.4,border_width:0,border_style:"solid",border_color:"#ffffff",border_opacity:1,fill:"#ffffff",fill_opacity:.4,stroke_color:"#ffffff",stroke_opacity:.75,stroke_width:0,stroke_dasharray:"10 10",stroke_linecap:"round",icon_fill:"#000000"},tooltip_style:{border_radius:5,padding:20,background_color:"#000000",background_opacity:.9,position:"top",width:300,auto_width:0},tooltip_content:{content_type:"plain-text",plain_text:"Lorem Ipsum",plain_text_color:"#ffffff",squares_settings:{containers:[{id:"sq-container-403761",settings:{elements:[{settings:{name:"Paragraph",iconClass:"fa fa-paragraph"}}]}}]}},points:[],vs:[]};t.imageMapProDefaultSettings=t.extend(!0,{},v),t.imageMapProDefaultSpotSettings=t.extend(!0,{},b),t.squaresExtendElementDefaults({defaultControls:{font:{text_color:{name:"Text Color",type:"color",default:"#ffffff"}}}}),t.wcpTourCoordinatesForTipForStep=function(o){return 0==o?{x:t("#wcp-editor-toolbar").offset().left,y:t("#wcp-editor-toolbar").offset().top+t("#wcp-editor-toolbar").height()/2}:1==o?{x:t('[data-wcp-main-tab-button-name="Shape"]').offset().left+20,y:t('[data-wcp-main-tab-button-name="Shape"]').offset().top+40}:2==o?{x:t("#wcp-editor-right").offset().left-20,y:t("#wcp-editor-right").offset().top+50}:3==o?{x:t('[data-wcp-form-tab-button-name="icon"]').offset().left+64,y:t('[data-wcp-form-tab-button-name="icon"]').offset().top+28}:4==o?{x:t('[data-wcp-form-tab-button-name="tooltip_content"]').offset().left+64,y:t('[data-wcp-form-tab-button-name="tooltip_content"]').offset().top+28}:5==o?{x:t('[data-wcp-main-tab-button-name="Image Map"]').offset().left+150,y:t('[data-wcp-main-tab-button-name="Image Map"]').offset().top+40}:6==o?{x:t("#wcp-editor-button-preview").offset().left+64,y:t("#wcp-editor-button-preview").offset().top+32}:7==o?{x:t("#wcp-editor-button-load").offset().left+64,y:t("#wcp-editor-button-load").offset().top+32}:8==o?{x:t('[data-wcp-editor-extra-main-button-name="export"]').offset().left+64,y:t('[data-wcp-editor-extra-main-button-name="export"]').offset().top+32}:9==o?{x:t('[data-wcp-editor-extra-main-button-name="code"]').offset().left+64,y:t('[data-wcp-editor-extra-main-button-name="code"]').offset().top+32}:void 0},t.wcpTourCoordinatesForHighlightRect=function(o){return 0==o?{x:t("#wcp-editor-toolbar").offset().left,y:t("#wcp-editor-toolbar").offset().top,width:t("#wcp-editor-toolbar").outerWidth(),height:t("#wcp-editor-toolbar").outerHeight()}:1==o?{x:t('[data-wcp-main-tab-button-name="Shape"]').offset().left,y:t('[data-wcp-main-tab-button-name="Shape"]').offset().top,width:t('[data-wcp-main-tab-button-name="Shape"]').outerWidth(),height:t('[data-wcp-main-tab-button-name="Shape"]').outerHeight()}:2==o?{x:t("#wcp-editor-right").offset().left,y:t("#wcp-editor-right").offset().top,width:t("#wcp-editor-right").outerWidth(),height:t("#wcp-editor-right").outerHeight()}:3==o?{x:t('[data-wcp-form-tab-button-name="icon"]').offset().left,y:t('[data-wcp-form-tab-button-name="icon"]').offset().top,width:t('[data-wcp-form-tab-button-name="icon"]').outerWidth(),height:t('[data-wcp-form-tab-button-name="icon"]').outerHeight()}:4==o?{x:t('[data-wcp-form-tab-button-name="tooltip_content"]').offset().left,y:t('[data-wcp-form-tab-button-name="tooltip_content"]').offset().top,width:t('[data-wcp-form-tab-button-name="tooltip_content"]').outerWidth(),height:t('[data-wcp-form-tab-button-name="tooltip_content"]').outerHeight()}:5==o?{x:t('[data-wcp-main-tab-button-name="Image Map"]').offset().left,y:t('[data-wcp-main-tab-button-name="Image Map"]').offset().top,width:t('[data-wcp-main-tab-button-name="Image Map"]').outerWidth(),height:t('[data-wcp-main-tab-button-name="Image Map"]').outerHeight()}:6==o?{x:t("#wcp-editor-button-preview").offset().left,y:t("#wcp-editor-button-preview").offset().top,width:t("#wcp-editor-button-preview").outerWidth(),height:t("#wcp-editor-button-preview").outerHeight()}:7==o?{x:t("#wcp-editor-button-save").offset().left,y:t("#wcp-editor-button-save").offset().top,width:t("#wcp-editor-button-save").outerWidth()+t("#wcp-editor-button-load").outerWidth(),height:t("#wcp-editor-button-save").outerHeight()}:8==o?{x:t('[data-wcp-editor-extra-main-button-name="import"]').offset().left,y:t('[data-wcp-editor-extra-main-button-name="import"]').offset().top,width:t('[data-wcp-editor-extra-main-button-name="import"]').outerWidth()+t('[data-wcp-editor-extra-main-button-name="export"]').outerWidth(),height:t('[data-wcp-editor-extra-main-button-name="import"]').outerHeight()
}:9==o?{x:t('[data-wcp-editor-extra-main-button-name="code"]').offset().left,y:t('[data-wcp-editor-extra-main-button-name="code"]').offset().top,width:t('[data-wcp-editor-extra-main-button-name="code"]').outerWidth(),height:t('[data-wcp-editor-extra-main-button-name="code"]').outerHeight()}:void 0},t.wcpTourEventStarted=function(){m=u,u=w,y.shapesFormSpotIndex=-1,y.redraw(),t.wcpEditorOpenMainTabWithName("Shape")},t.wcpTourEventFinished=function(){u=m,y.redraw()},t.wcpEditorGetContentForTabWithName=function(o){return"Image Map"==o?t.wcpEditorGetHTMLForFormWithName("Image Map Settings"):"Shape"==o?t.wcpEditorGetHTMLForFormWithName("Shape Settings"):void 0},t.wcpEditorGetContentForCanvas=function(){return""},t.wcpEditorGetListItems=function(){for(var t=[],o=0;o<u.spots.length;o++){var e=u.spots[o];t.push({id:e.id,title:e.id})}return t},t.wcpEditorGetSaves=function(o){t.imp_editor_storage_get_saves_list(function(t){for(var e=new Array,r=0;r<t.length;r++){var i={};i=t[r].meta?{name:t[r].meta.name,id:t[r].id}:{name:"Untitled",id:t[r].id},e.push(i)}o(e)})},t.wcpEditorGetExportJSON=function(){return JSON.stringify(y.getCompressedSettings())},t.wcpEditorEventFormUpdated=function(o,e){if("Image Map Settings"==o){var i=t.wcpEditorGetModelOfFormWithName(o);i.image.image_url&&i.image.image_url.length>0&&u.general.image_url!==i.image.image_url?(u.general.image_url=i.image.image_url,y.canvasImage.src=i.image.image_url,n(y.canvasImage,function(){t.wcpEditorPresentLoadingScreen("Loading Image...")},function(){y.canvas_events(),t.wcpEditorHideLoadingScreen(),u.general.width=y.canvasImage.naturalWidth,u.general.height=y.canvasImage.naturalHeight,t.wcpEditorSetControlValue("Image Map Settings","image_map_width",u.general.width),t.wcpEditorSetControlValue("Image Map Settings","image_map_height",u.general.height),t.wcpEditorUpdateForm("Image Map Settings"),y.redraw(),y.addAction()},function(){t.wcpEditorHideLoadingScreenWithMessage("Error Loading Image!",!0)})):(u.general.name=i.general.image_map_name,i.general.image_map_shortcode&&(u.general.shortcode=i.general.image_map_shortcode.replace(/[\[\]']+/g,"")),u.general.width=i.general.image_map_width,u.general.height=i.general.image_map_height,u.general.responsive=i.general.responsive,u.general.sticky_tooltips=i.general.sticky_tooltips,u.general.constrain_tooltips=i.general.constrain_tooltips,u.general.image_url=i.image.image_url,u.general.tooltip_animation=i.general.tooltip_animation,u.general.pageload_animation=i.general.pageload_animation,u.general.fullscreen_tooltips=i.general.fullscreen_tooltips,u.general.late_initialization=i.general.late_initialization,y.redraw(),y.addAction())}if("Shape Settings"==o&&y.selectedSpot!==r){var a=y.selectedSpot,s=t.wcpEditorGetModelOfFormWithName("Shape Settings");a.x=s.general.x,a.y=s.general.y,a.width=s.general.width,a.height=s.general.height,a.actions.mouseover=s.actions.mouseover,a.actions.click=s.actions.click,a.actions.link=s.actions.link,a.actions.open_link_in_new_window=s.actions.open_link_in_new_window,a.default_style.opacity=s.default_style.opacity,a.default_style.icon_fill=s.default_style.icon_fill,a.default_style.border_radius=s.default_style.border_radius,a.default_style.background_color=s.default_style.background_color,a.default_style.background_opacity=s.default_style.background_opacity,a.default_style.border_width=s.default_style.border_width,a.default_style.border_style=s.default_style.border_style,a.default_style.border_color=s.default_style.border_color,a.default_style.border_opacity=s.default_style.border_opacity,a.default_style.fill=s.default_style.fill,a.default_style.fill_opacity=s.default_style.fill_opacity,a.default_style.stroke_color=s.default_style.stroke_color,a.default_style.stroke_opacity=s.default_style.stroke_opacity,a.default_style.stroke_width=s.default_style.stroke_width,a.default_style.stroke_dasharray=s.default_style.stroke_dasharray,a.default_style.stroke_linecap=s.default_style.stroke_linecap,a.default_style.use_icon=s.icon.use_icon,a.default_style.icon_type=s.icon.icon_type,a.default_style.icon_svg_path=s.icon.icon_svg_path,a.default_style.icon_svg_viewbox=s.icon.icon_svg_viewbox,a.default_style.icon_url=s.icon.icon_url,a.default_style.icon_is_pin=s.icon.icon_is_pin,a.default_style.icon_shadow=s.icon.icon_shadow,a.mouseover_style.opacity=s.mouseover_style.mouseover_opacity,a.mouseover_style.icon_fill=s.mouseover_style.mouseover_icon_fill,a.mouseover_style.border_radius=s.mouseover_style.mouseover_border_radius,a.mouseover_style.background_color=s.mouseover_style.mouseover_background_color,a.mouseover_style.background_opacity=s.mouseover_style.mouseover_background_opacity,a.mouseover_style.border_width=s.mouseover_style.mouseover_border_width,a.mouseover_style.border_style=s.mouseover_style.mouseover_border_style,a.mouseover_style.border_color=s.mouseover_style.mouseover_border_color,a.mouseover_style.border_opacity=s.mouseover_style.mouseover_border_opacity,a.mouseover_style.fill=s.mouseover_style.mouseover_fill,a.mouseover_style.fill_opacity=s.mouseover_style.mouseover_fill_opacity,a.mouseover_style.stroke_color=s.mouseover_style.mouseover_stroke_color,a.mouseover_style.stroke_opacity=s.mouseover_style.mouseover_stroke_opacity,a.mouseover_style.stroke_width=s.mouseover_style.mouseover_stroke_width,a.mouseover_style.stroke_dasharray=s.mouseover_style.mouseover_stroke_dasharray,a.mouseover_style.stroke_linecap=s.mouseover_style.mouseover_stroke_linecap,a.tooltip_style.border_radius=s.tooltip_settings.tooltip_border_radius,a.tooltip_style.padding=s.tooltip_settings.tooltip_padding,a.tooltip_style.background_color=s.tooltip_settings.tooltip_background_color,a.tooltip_style.background_opacity=s.tooltip_settings.tooltip_background_opacity,a.tooltip_style.position=s.tooltip_settings.tooltip_position,a.tooltip_style.width=s.tooltip_settings.tooltip_width,a.tooltip_style.auto_width=s.tooltip_settings.tooltip_auto_width,a.tooltip_content.content_type=s.tooltip_content.tooltip_content_type,a.tooltip_content.plain_text=s.tooltip_content.plain_text,a.tooltip_content.plain_text_color=s.tooltip_content.plain_text_color,a.tooltip_content.squares_settings=s.tooltip_content.squares_settings,y.redraw(),f||y.addAction()}},t.wcpEditorEventNewButtonPressed=function(){},t.wcpEditorEventSaveButtonPressed=function(){t.wcpEditorPresentLoadingScreen("Saving..."),t.imp_editor_storage_store_save(y.getCompressedSettings(),function(o){o?t.wcpEditorUpdateLoadingScreenMessage("Saving... "+o+"%"):t.imp_editor_storage_set_last_save(u.id,function(){t.wcpEditorHideLoadingScreenWithMessage("Saved!",!1)})})},t.wcpEditorEventLoadButtonPressed=function(){},t.wcpEditorEventUndoButtonPressed=function(){y.undo()},t.wcpEditorEventRedoButtonPressed=function(){y.redo()},t.wcpEditorEventPreviewButtonPressed=function(){},t.wcpEditorEventEnteredPreviewMode=function(){u.editor.previewMode=1,y.redraw()},t.wcpEditorEventExitedPreviewMode=function(){u.editor.previewMode=0,y.redraw()},t.wcpEditorEventListItemMouseover=function(o){1==parseInt(u.editor.previewMode,10)&&t.imageMapProHighlightShape(u.general.name,o)},t.wcpEditorEventListItemSelected=function(o){y.selectSpot(o),y.redraw(),1==parseInt(u.editor.previewMode,10)&&(t.imageMapProHighlightShape(u.general.name,o),"show-tooltip"!=y.selectedSpot.actions.mouseover&&"show-tooltip"!=y.selectedSpot.actions.click||t.imageMapProOpenTooltip(u.general.name,o))},t.wcpEditorEventListItemMoved=function(o,e,r){r>u.spots.length-1&&(r=u.spots.length-1),u.spots.splice(r,0,u.spots.splice(e,1)[0]);for(var i=[],n=0;n<u.spots.length;n++){var a=u.spots[n];i.push({id:a.id,title:a.id})}t.wcpEditorSetListItems(i),t.wcpEditorSelectListItem(u.editor.selected_shape)},t.wcpEditorEventListItemButtonPressed=function(o,e){if("duplicate"==e){var r=y.getIndexOfSpotWithId(o),i=t.extend(!0,{},u.spots[r]);"spot"==i.type&&(i.id=y.createIdForSpot()),"rect"==i.type&&(i.id=y.createIdForRect()),"oval"==i.type&&(i.id=y.createIdForOval()),"poly"==i.type&&(i.id=y.createIdForPoly()),u.spots.push(i),y.redraw(),y.addAction()}if("copy"==e){var r=y.getIndexOfSpotWithId(o);g={default_style:t.extend(!0,{},u.spots[r].default_style),mouseover_style:t.extend(!0,{},u.spots[r].mouseover_style),tooltip_style:t.extend(!0,{},u.spots[r].tooltip_style),tooltip_content:{plain_text_color:u.spots[r].tooltip_content.plain_text_color}}}if("paste"==e){var r=y.getIndexOfSpotWithId(o);u.spots[r].default_style=t.extend(!0,{},g.default_style),u.spots[r].mouseover_style=t.extend(!0,{},g.mouseover_style),u.spots[r].tooltip_style=t.extend(!0,{},g.tooltip_style),u.spots[r].tooltip_content.plain_text_color=g.tooltip_content.plain_text_color,y.redraw(),y.addAction()}"delete"==e&&(S=y.getIndexOfSpotWithId(o),t.wcpEditorPresentModal({name:"confirm-delete-shape",title:"Confirm Delete",buttons:[{name:"cancel",title:"Cancel",class:""},{name:"delete",title:"Delete",class:"danger"}],body:"Delete this shape?"}))},t.wcpEditorEventSelectedTool=function(t){u.editor.tool=t},t.wcpEditorEventExtraMainButtonClick=function(o){if("code"==o){var e="";e+='<div id="imp-generated-code-wrap">',e+='<div class="generated-code-help">',e+="    This is a sample HTML document, showing how to install the plugin in your website.",e+="</div>",e+="<pre>",e+="&lt;!doctype html&gt;<br>",e+="&lt;html&gt;<br>",e+="&lt;head&gt;<br>",e+='    <strong><span class="em-code">&lt;link rel=&quot;stylesheet&quot; href=&quot;css/image-map-pro.min.css&quot;&gt;</span></strong><br>',e+='    <strong><span class="em-code">&lt;link rel=&quot;stylesheet&quot; href=&quot;css/squares.min.css&quot;&gt;</span></strong><br>',e+="&lt;/head&gt;<br>",e+="&lt;body&gt;<br>",e+='    &lt;div id=&quot;<strong><span class="em-code">image-map-pro-container</span></strong>&quot;&gt;&lt;/div&gt;<br><br>',e+="    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;<br>",e+='    <strong><span class="em-code">&lt;script src=&quot;js/image-map-pro.min.js&quot;&gt;&lt;/script&gt;</span></strong><br>',e+="    &lt;script type=&quot;text/javascript&quot;&gt;<br>",e+="        ;(function ($, window, document, undefined) {<br>",e+="            $(document).ready(function() {<br>",e+="</pre>",e+='<div class="generated-code-help">The code that contains all settings and initializes the plugin:</div>',e+='<textarea id="textarea-generated-code" rows="4"></textarea>',e+="    <pre>",e+="            });<br>",e+="        })(jQuery, window, document);<br>",e+="    &lt;/script&gt;<br>",e+="&lt;/body&gt;<br>",e+="&lt;/html&gt;<br>",e+="</pre>",e+="</div>",t.wcpEditorPresentModal({name:"code",title:"Code",buttons:[{name:"done",title:"Done",class:"primary"}],body:e}),t("#textarea-generated-code").val("$('#image-map-pro-container').imageMapPro("+JSON.stringify(y.getCompressedSettings())+");")}},t.wcpEditorEventModalButtonClicked=function(o,e){"create_new"==o&&"cancel"==e&&t.wcpEditorCloseModal(),"modal-choose-icon"==o&&"cancel"==e&&t.wcpEditorCloseModal(),"load"==o&&"cancel"==e&&t.wcpEditorCloseModal(),"confirm-delete-shape"==o&&("delete"==e&&(u.editor.selected_shape==u.spots[S].id&&y.deselectSpot(),u.spots.splice(S,1),t.wcpEditorCloseModal(),y.redraw(),y.addAction()),"cancel"==e&&t.wcpEditorCloseModal()),"code"==o&&"done"==e&&t.wcpEditorCloseModal(),"export"==o&&"cancel"==e&&t.wcpEditorCloseModal(),"import"==o&&"cancel"==e&&t.wcpEditorCloseModal()},t.wcpEditorEventModalClosed=function(t){},t.wcpEditorEventCreatedNewInstance=function(o){u=t.extend(!0,{},v),u.id=Math.round(1e4*Math.random())+1,u.general.name=o,t.wcpEditorPresentLoadingScreen("Creating..."),t.imp_editor_storage_store_save(y.getCompressedSettings(),function(){t.imp_editor_storage_set_last_save(u.id,function(){y.launch(),t.wcpEditorHideLoadingScreenWithMessage("Created!",!1)})})},t.wcpEditorEventLoadSaveWithID=function(o){t.wcpEditorPresentLoadingScreen("Loading Image Map..."),t.imp_editor_storage_get_save(o,function(o){o?(u=o,t.imp_editor_storage_set_last_save(u.id,function(){t.wcpEditorHideLoadingScreen(),y.launch()})):t.wcpEditorHideLoadingScreenWithMessage("Error loading image map.",!0)})},t.wcpEditorEventDeleteSaveWithID=function(o,e){t.imp_editor_storage_delete_save(o,function(){e()})},t.wcpEditorEventImportedJSON=function(o){var e=u.general.name,r=u.id;u=t.extend(!0,{},o),u.general.name=e,u.id=r,y.launch()},t.wcpEditorEventHelpButtonPressed=function(){t.wcpTourRestart("Image Map Pro Editor Tour")},t.wcpEditorSliderStartedDragging=function(){f=!0},t.wcpEditorSliderFinishedDragging=function(){f=!1},t.image_map_pro_default_spot_settings=function(){return b},t.image_map_pro_init_editor=function(t,o){y=new i,y.init(t,o)},t.image_map_pro_editor_current_settings=function(){return u},t.image_map_pro_editor_compressed_settings=function(){return y.getCompressedSettings()},t.image_map_pro_user_uploaded_image=function(){},i.prototype.init=function(o,e){var r=this;r.events(),r.loadIconLibrary(),r.wcpEditorSettings=e,u=t.extend(!0,{},v),t.wcpEditorInit(this.wcpEditorSettings),o?(u=o,r.launch()):t.imp_editor_storage_get_last_save(function(o){o&&0!=parseInt(o,10)&&!isNaN(parseInt(o,10))?(t.wcpEditorPresentLoadingScreen("Loading Image Map..."),t.imp_editor_storage_get_save(parseInt(o,10),function(o){o?(u=o,y.launch()):t.wcpEditorHideLoadingScreenWithMessage("Error loading image map.",!0)})):t.imp_editor_storage_get_saves_list(function(o){o.length>0?(u=t.extend(!0,{},v),u.general.name="Untitled",u.id=Math.round(1e4*Math.random())+1,r.launch(),t.wcpEditorPresentLoadModal()):(u=t.extend(!0,{},v),u.general.name="Untitled",u.id=Math.round(1e4*Math.random())+1,r.launch())})})},i.prototype.launch=function(){var o=this;t.wcpEditorInit(this.wcpEditorSettings),this.selectedSpot=r,this.eventSpot=r,this.shapesFormSpotIndex=r,this.parseSettings(),u.general.image_url&&u.general.image_url.length>0?(o.canvasImage.src=u.general.image_url,n(o.canvasImage,function(){t.wcpEditorPresentLoadingScreen("Loading Image...")},function(){o.canvas_events(),u.general.width=o.canvasImage.naturalWidth,u.general.height=o.canvasImage.naturalHeight,o.redraw(),o.selectSpot(u.editor.selected_shape),t.wcpEditorHideLoadingScreen()},function(){t.wcpEditorHideLoadingScreenWithMessage("Error Loading Image!",!0)})):(t.wcpEditorHideLoadingScreen(),t.wcpEditorOpenMainTabWithName("Image Map"),t.wcpEditorFormOpenTab("Image Map Settings","image")),this.actionIndex=-1,this.actionStack=new Array,this.addAction(),this.canvas=t("#wcp-editor-canvas"),t.wcpEditorSelectTool(u.editor.tool),this.updateImageMapForm(),t.wcpTourStart("Image Map Pro Editor Tour")},i.prototype.parseSettings=function(){for(var o=0;o<u.spots.length;o++){var e=u.spots[o];if(e.x=parseFloat(e.x),e.y=parseFloat(e.y),e.width&&(e.width=parseFloat(e.width)),e.height&&(e.height=parseFloat(e.height)),"poly"==e.type){if(e.points)for(var r=0;r<e.points.length;r++)e.points[r].x=parseFloat(e.points[r].x),e.points[r].y=parseFloat(e.points[r].y);if(e.vs)for(var r=0;r<e.vs.length;r++)for(var i=0;i<e.vs[r].length;i++)e.vs[r][0]=parseFloat(e.vs[r][0]),e.vs[r][1]=parseFloat(e.vs[r][1])}}u.general.width=parseInt(u.general.width),u.general.height=parseInt(u.general.height);for(var o=0;o<u.spots.length;o++){if(u.spots[o]=t.extend(!0,{},b,u.spots[o]),u.spots[o].tooltip_content.title||u.spots[o].tooltip_content.text){var n="";u.spots[o].tooltip_content.title&&(n+="<h3>"+u.spots[o].tooltip_content.title+"</h3>"),u.spots[o].tooltip_content.text&&(n+="<p>"+u.spots[o].tooltip_content.text+"</p>"),u.spots[o].tooltip_content.plain_text=n,u.spots[o].tooltip_content={content_type:u.spots[o].tooltip_content.content_type,plain_text:u.spots[o].tooltip_content.plain_text,plain_text_color:u.spots[o].tooltip_content.plain_text_color,squares_json:u.spots[o].tooltip_content.squares_json}}if(u.spots[o].tooltip_content.squares_json)try{u.spots[o].tooltip_content.squares_settings=JSON.parse(u.spots[o].tooltip_content.squares_json),u.spots[o].tooltip_content.squares_json=""}catch(t){console.log("Failed to parse JSON for spot "+u.spots[o].id+":"),console.log(u.spots[o].tooltip_content.squares_json)}}u.general=t.extend(!0,{},v.general,u.general),u.editor=t.extend(!0,{},v.editor,u.editor)},i.prototype.redraw=function(){var o=this,e=t("#wcp-editor-center").width()-80,r=t("#wcp-editor-center").height()-80;if(u.general.width>e||u.general.height>r){var i=u.general.width/u.general.height,n=e/r;i<=n?(o.canvasWidth=r*i,o.canvasHeight=t("#wcp-editor-center").height()-80):(o.canvasWidth=t("#wcp-editor-center").width()-80,o.canvasHeight=e/i)}else o.canvasWidth=u.general.width,o.canvasHeight=u.general.height;t("#wcp-editor-canvas").css({width:o.canvasWidth,height:o.canvasHeight}),0==parseInt(u.editor.previewMode,10)?(t("#wcp-editor-canvas").html(t.image_map_pro_editor_content()),t("#imp-editor-image").css({width:o.canvasWidth,height:o.canvasHeight}),t.wcpEditorSetPreviewModeOff()):(t("#wcp-editor-canvas").imageMapPro(u),t.wcpEditorSetPreviewModeOn()),o.redrawSpotSelection(),o.updateShapesForm(),this.updateShapesFormState(),o.updateShapesList()},i.prototype.redrawSpotSelection=function(){var o=this;if(t(".imp-editor-shape").removeClass("selected"),u.editor.selected_shape!=-1){var e=o.getIndexOfSpotWithId(u.editor.selected_shape);if(e==r)return void(u.editor.selected_shape=-1);t('.imp-editor-shape[data-id="'+u.editor.selected_shape+'"]').addClass("selected"),o.selectedSpot=u.spots[e],"poly"==o.selectedSpot.type&&(o.tempControlPoint=t('.imp-editor-poly[data-id="'+u.editor.selected_shape+'"]').find(".imp-editor-poly-svg-temp-control-point"),o.tempControlPointLine=t('.imp-editor-poly[data-id="'+u.editor.selected_shape+'"]').find(".imp-editor-poly-svg-temp-control-point-line"))}else o.selectedSpot=r},i.prototype.events=function(){var o=this;t(e).off("button-choose-icon-clicked"),t(e).on("button-choose-icon-clicked",function(){t.wcpEditorPresentModal({name:"modal-choose-icon",title:"Choose Icon",buttons:[{name:"cancel",title:"Cancel",class:"default",id:"imp-editor-button-cancel-choose-icon"}],body:o.iconsHTML})}),t(e).off("button-copy-from-default-styles-clicked"),t(e).on("button-copy-from-default-styles-clicked",function(){o.selectedSpot.mouseover_style.opacity=o.selectedSpot.default_style.opacity,o.selectedSpot.mouseover_style.border_radius=o.selectedSpot.default_style.border_radius,o.selectedSpot.mouseover_style.background_color=o.selectedSpot.default_style.background_color,o.selectedSpot.mouseover_style.background_opacity=o.selectedSpot.default_style.background_opacity,o.selectedSpot.mouseover_style.border_width=o.selectedSpot.default_style.border_width,o.selectedSpot.mouseover_style.border_style=o.selectedSpot.default_style.border_style,o.selectedSpot.mouseover_style.border_color=o.selectedSpot.default_style.border_color,o.selectedSpot.mouseover_style.border_opacity=o.selectedSpot.default_style.border_opacity,o.selectedSpot.mouseover_style.fill=o.selectedSpot.default_style.fill,o.selectedSpot.mouseover_style.fill_opacity=o.selectedSpot.default_style.fill_opacity,o.selectedSpot.mouseover_style.stroke_color=o.selectedSpot.default_style.stroke_color,o.selectedSpot.mouseover_style.stroke_opacity=o.selectedSpot.default_style.stroke_opacity,o.selectedSpot.mouseover_style.stroke_width=o.selectedSpot.default_style.stroke_width,o.selectedSpot.mouseover_style.stroke_dasharray=o.selectedSpot.default_style.stroke_dasharray,o.selectedSpot.mouseover_style.stroke_linecap=o.selectedSpot.default_style.stroke_linecap,o.selectedSpot.mouseover_style.icon_fill=o.selectedSpot.default_style.icon_fill,o.redraw(),o.addAction()}),t(e).off("button-launch-content-builder-clicked"),t(e).on("button-launch-content-builder-clicked",function(){o.launchTooltipContentBuilder()}),t(e).off("click",".imp-spot-icon"),t(e).on("click",".imp-spot-icon",function(){t.wcpEditorCloseModal(),o.selectedSpot.default_style.icon_svg_path=t(this).data("path"),o.selectedSpot.default_style.icon_svg_viewbox=t(this).data("viewbox"),o.redraw(),o.addAction()}),t(e).off("click","#imp-editor-done-editing-tooltip, #imp-editor-tooltip-content-builder-close"),t(e).on("click","#imp-editor-done-editing-tooltip, #imp-editor-tooltip-content-builder-close",function(){t("#imp-editor-tooltip-content-builder-wrap").removeClass("imp-visible"),setTimeout(function(){t("#imp-editor-tooltip-content-builder-wrap").hide()},250),o.doneEditingTooltip(),t.squaresHideEditorWindow()})},i.prototype.canvas_events=function(){var r=this;t(o).off("resize.imp-redraw"),t(o).on("resize.imp-redraw",function(){r.redraw()}),t(e).off("mousedown","#wcp-editor-center"),t(e).on("mousedown","#wcp-editor-center",function(t){r.handleMouseDown(t)}),t(e).off("mousemove","#wcp-editor"),t(e).on("mousemove","#wcp-editor",function(t){r.handleMouseMove(t)}),t(e).off("mouseup","#wcp-editor"),t(e).on("mouseup","#wcp-editor",function(t){r.handleMouseUp(t)}),t(e).off("keyup.canvasEvents"),t(e).on("keyup.canvasEvents",function(o){27==o.keyCode&&r.drawingPoly&&(r.drawingPoly=!1,r.startedDrawingPoly=!1,r.mouseDownWhileDrawingPoly=!1,t("#temp-poly").remove())}),t("body").on("contextmenu",function(t){if(r.didDeleteControlPoint)return r.didDeleteControlPoint=!1,!1})},i.prototype.addAction=function(){var o=this;o.actionIndex<o.actionStack.length-1&&o.actionStack.splice(o.actionIndex+1,o.actionStack.length),o.actionStack.push(t.extend(!0,{},u)),o.actionIndex++,o.actionStack.length>100&&(o.actionStack.splice(0,1),o.actionIndex--),t("#button-save").html('<span class="glyphicon glyphicon-hdd"></span> Save')},i.prototype.undo=function(){var o=this;o.actionIndex>0&&o.actionIndex--,u=t.extend(!0,{},o.actionStack[o.actionIndex]),o.redraw()},i.prototype.redo=function(){var o=this;o.actionIndex<o.actionStack.length-1&&o.actionIndex++,u=t.extend(!0,{},o.actionStack[o.actionIndex]),o.redraw()},i.prototype.loadIconLibrary=function(){for(var o="",e=0;e<t.webcraft_icon_library.length;e++)o+='<div class="imp-spot-icon" data-path="'+t.webcraft_icon_library[e][1]+'" data-viewbox="'+t.webcraft_icon_library[e][0]+'">',o+='   <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="'+t.webcraft_icon_library[e][0]+'" xml:space="preserve" width="40px" height="40px">',o+='       <path style="fill:#000000" d="'+t.webcraft_icon_library[e][1]+'"></path>',o+="   </svg>",o+="</div>";this.iconsHTML=o},i.prototype.handleMouseDown=function(o){var e=this;if("wcp-editor-toolbar"!=t(o.target).attr("id")&&1!=t(o.target).closest("#wcp-editor-toolbar").length&&"wcp-editor-extra-main-buttons"!=t(o.target).attr("id")&&1!=t(o.target).closest("#wcp-editor-extra-main-buttons").length&&1!=parseInt(u.editor.previewMode,10)&&!t("body").hasClass("modal-open")){var r=s(o.pageX,o.pageY,e.canvas);if(e.ix=r.x,e.iy=r.y,e.drawingPoly)return t(o.target).is("circle")&&0==t(o.target).data("index")?(e.drawingPoly=!1,void(e.finishedDrawingPoly=!0)):(e.placePointForTempPoly(e.ix,e.iy),e.redrawTempPoly(),void(e.mouseDownWhileDrawingPoly=!0));if(e.selectedSpot&&"poly"==e.selectedSpot.type&&t(o.target).hasClass("imp-poly-control-point"))return t(o.target).addClass("active"),e.translatedPointIndex=t(o.target).data("index"),2==o.button?(e.selectedSpot.points.splice(e.translatedPointIndex,1),e.updateBoundingBoxForPolygonSpot(e.selectedSpot),e.redraw(),e.addAction(),void(e.didDeleteControlPoint=!0)):(e.translatingControlPoint=!0,e.translatedPointX=e.selectedSpot.points[e.translatedPointIndex].x,e.translatedPointY=e.selectedSpot.points[e.translatedPointIndex].y,e.translatedPoint=t(o.target),void(e.redrawPolygonEl=t(o.target).closest(".imp-editor-shape").find(".imp-editor-poly-svg polygon")));if(e.selectedSpot&&"poly"==e.selectedSpot.type&&t(o.target).hasClass("imp-editor-poly-svg-temp-control-point")){e.selectedSpot.points.splice(e.tempControlPointIndex+1,0,{x:e.controlPointInsertionPointX,y:e.controlPointInsertionPointY}),e.redraw();var r=t('.imp-editor-shape[data-id="'+e.selectedSpot.id+'"]').find('.imp-poly-control-point[data-index="'+(e.tempControlPointIndex+1)+'"]');return r.addClass("active"),e.translatedPointIndex=r.data("index"),e.translatingControlPoint=!0,e.translatedPointX=e.selectedSpot.points[e.translatedPointIndex].x,e.translatedPointY=e.selectedSpot.points[e.translatedPointIndex].y,e.translatedPoint=r,void(e.redrawPolygonEl=r.closest(".imp-editor-shape").find(".imp-editor-poly-svg polygon"))}if(t(o.target).hasClass("imp-selection-translate-box")){if(e.startedTransforming=!0,e.transformDirection=t(o.target).data("transform-direction"),e.redrawEl=t(o.target).closest(".imp-editor-shape"),"poly"==e.selectedSpot.type){e.redrawSvgEl=e.redrawEl.find(".imp-editor-poly-svg"),e.redrawPolygonEl=e.redrawSvgEl.find("polygon"),e.polyPoints=new Array;for(var i=0;i<e.selectedSpot.points.length;i++)e.polyPoints.push({x:e.selectedSpot.points[i].x,y:e.selectedSpot.points[i].y})}}else{for(var i=u.spots.length-1;i>=0;i--)if("poly"==u.spots[i].type&&e.shouldSelectPoly(u.spots[i].id))return e.eventSpotId=u.spots[i].id,void(e.startedSelecting=!0);if((t(o.target).hasClass("imp-editor-shape")||t(o.target).closest(".imp-editor-shape").length>0)&&!t(o.target).hasClass("imp-editor-poly")&&0==t(o.target).closest(".imp-editor-poly").length)return e.eventSpotId=t(o.target).data("id")||t(o.target).closest(".imp-editor-shape").data("id"),void(e.startedSelecting=!0);if(o.pageX>e.canvas.offset().left&&o.pageX<e.canvasWidth+e.canvas.offset().left&&o.pageY>e.canvas.offset().top&&o.pageY<e.canvasHeight+e.canvas.offset().top){if("spot"==u.editor.tool)return void(e.startedDrawingSpot=!0);if("rect"==u.editor.tool)return void(e.startedDrawingRect=!0);if("oval"==u.editor.tool)return void(e.startedDrawingOval=!0);if("poly"==u.editor.tool)return e.startedDrawingPoly=!0,e.deselectSpot(),e.redraw(),e.polyPoints=new Array,t("#imp-editor-shapes-container").append('<svg id="temp-poly" width="'+e.canvasWidth+'px" height="'+e.canvasHeight+'px" viewBox="0 0 '+e.canvasWidth+" "+e.canvasHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>'),e.placePointForTempPoly(e.ix,e.iy),e.redrawTempPoly(),e.mouseDownWhileDrawingPoly=!0,void(e.drawingPoly=!0)}"wcp-editor-center"==t(o.target).attr("id")&&this.selectedSpot&&(this.shouldDeselectSpot=!0)}}},i.prototype.handleMouseMove=function(o){var e=this;if(1!=parseInt(u.editor.previewMode,10)){var r=s(o.pageX,o.pageY,e.canvas);if(e.x=r.x,e.y=r.y,e.dx=(e.x-e.ix)/e.canvasWidth*100,e.dy=(e.y-e.iy)/e.canvasHeight*100,e.dx=Math.round(10*e.dx)/10,e.dy=Math.round(10*e.dy)/10,e.startedSelecting&&(e.selectSpot(e.eventSpotId),e.redrawEl=t('.imp-editor-shape[data-id="'+e.eventSpotId+'"]'),e.redrawSpotSelection(),e.startedMoving=!0,e.startedSelecting=!1),e.startedMoving){var i=p(e.selectedSpot.x+e.dx,e.selectedSpot.y+e.dy);return"rect"!=e.selectedSpot.type&&"oval"!=e.selectedSpot.type&&"poly"!=e.selectedSpot.type||(i.x+e.selectedSpot.width>100&&(i.x=100-e.selectedSpot.width),i.y+e.selectedSpot.height>100&&(i.y=100-e.selectedSpot.height)),void e.redrawEl.css({left:i.x+"%",top:i.y+"%"})}if(!e.startedTransforming){if(e.startedDrawingRect){var r=s(o.pageX,o.pageY,e.canvas);e.createdDrawingRect||(e.createdDrawingRect=!0,e.eventSpot=e.createRect(),e.eventSpot.x=e.x/e.canvasWidth*100,e.eventSpot.y=e.y/e.canvasHeight*100,e.eventSpot.x=Math.round(10*e.eventSpot.x)/10,e.eventSpot.y=Math.round(10*e.eventSpot.y)/10,e.redraw(),e.redrawEl=t('.imp-editor-shape[data-id="'+e.eventSpot.id+'"]'));var n={x:e.dx,y:e.dy};return e.eventSpot.x+n.x>100&&(n.x=100-e.eventSpot.x),e.eventSpot.y+n.y>100&&(n.y=100-e.eventSpot.y),e.drawRectWidth=n.x,e.drawRectHeight=n.y,void e.redrawEl.css({width:n.x+"%",height:n.y+"%"})}if(e.startedDrawingOval){var r=s(o.pageX,o.pageY,e.canvas);e.createdDrawingOval||(e.createdDrawingOval=!0,e.eventSpot=e.createOval(),e.eventSpot.x=e.x/e.canvasWidth*100,e.eventSpot.y=e.y/e.canvasHeight*100,e.eventSpot.x=Math.round(10*e.eventSpot.x)/10,e.eventSpot.y=Math.round(10*e.eventSpot.y)/10,e.redraw(),e.redrawEl=t('.imp-editor-shape[data-id="'+e.eventSpot.id+'"]'));var n={x:e.dx,y:e.dy};return e.eventSpot.x+n.x>100&&(n.x=100-e.eventSpot.x),e.eventSpot.y+n.y>100&&(n.y=100-e.eventSpot.y),e.drawRectWidth=n.x,e.drawRectHeight=n.y,void e.redrawEl.css({width:n.x+"%",height:n.y+"%"})}if(e.mouseDownWhileDrawingPoly)return e.polyPoints[e.polyPoints.length-1].x=e.x,e.polyPoints[e.polyPoints.length-1].y=e.y,void e.redrawTempPoly();if(e.translatingControlPoint){if(!e.startedTranslatingControlPoint){e.startedTranslatingControlPoint=!0,t(o.target).closest(".imp-editor-shape").find(".imp-selection").hide(),t(o.target).closest(".imp-editor-shape").css({left:0,top:0,width:"100%",height:"100%"}),t(o.target).closest(".imp-editor-shape").find(".imp-editor-poly-svg")[0].setAttribute("viewBox","0 0 "+u.general.width+" "+u.general.height);for(var a=0;a<e.selectedSpot.points.length;a++)t('.imp-editor-shape[data-id="'+e.selectedSpot.id+'"]').find('.imp-poly-control-point[data-index="'+a+'"]').css({left:d(e.selectedSpot.points[a],e.selectedSpot).x+"%",top:d(e.selectedSpot.points[a],e.selectedSpot).y+"%"})}d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).x+e.dx<0&&(e.dx=-d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).x),d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).x+e.dx>100&&(e.dx=100-d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).x),d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).y+e.dy<0&&(e.dy=-d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).y),d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).y+e.dy>100&&(e.dy=100-d({x:e.translatedPointX,y:e.translatedPointY},e.selectedSpot).y);var l=e.dx/(e.selectedSpot.width/100*e.canvasWidth/e.canvasWidth),c=e.dy/(e.selectedSpot.height/100*e.canvasHeight/e.canvasHeight);e.selectedSpot.points[e.translatedPointIndex].x=e.translatedPointX+l,e.selectedSpot.points[e.translatedPointIndex].y=e.translatedPointY+c,e.translatedPoint.css({left:d(e.selectedSpot.points[e.translatedPointIndex],e.selectedSpot).x+"%",top:d(e.selectedSpot.points[e.translatedPointIndex],e.selectedSpot).y+"%"});for(var _="",h=0;h<e.selectedSpot.points.length;h++){var y=d(e.selectedSpot.points[h],e.selectedSpot),f=e.selectedSpot.default_style.stroke_width+y.x/100*(u.general.width-2*e.selectedSpot.default_style.stroke_width),g=e.selectedSpot.default_style.stroke_width+y.y/100*(u.general.height-2*e.selectedSpot.default_style.stroke_width);_+=f+","+g+" "}return void e.redrawPolygonEl.attr("points",_)}return e.selectedSpot&&"poly"==e.selectedSpot.type?void e.redrawSelectedPolyTempPoint():void 0}var i,n;if(1==e.transformDirection&&(i={x:e.selectedSpot.x+e.dx,y:e.selectedSpot.y+e.dy},n={x:e.selectedSpot.width-e.dx,y:e.selectedSpot.height-e.dy}),2==e.transformDirection&&(i={x:e.selectedSpot.x,y:e.selectedSpot.y+e.dy},n={x:e.selectedSpot.width,y:e.selectedSpot.height-e.dy}),3==e.transformDirection&&(i={x:e.selectedSpot.x,y:e.selectedSpot.y+e.dy},n={x:e.selectedSpot.width+e.dx,y:e.selectedSpot.height-e.dy}),4==e.transformDirection&&(i={x:e.selectedSpot.x,y:e.selectedSpot.y},n={x:e.selectedSpot.width+e.dx,y:e.selectedSpot.height}),5==e.transformDirection&&(i={x:e.selectedSpot.x,y:e.selectedSpot.y},n={x:e.selectedSpot.width+e.dx,y:e.selectedSpot.height+e.dy}),6==e.transformDirection&&(i={x:e.selectedSpot.x,y:e.selectedSpot.y},n={x:e.selectedSpot.width,y:e.selectedSpot.height+e.dy}),7==e.transformDirection&&(i={x:e.selectedSpot.x+e.dx,y:e.selectedSpot.y},n={x:e.selectedSpot.width-e.dx,y:e.selectedSpot.height+e.dy}),8==e.transformDirection&&(i={x:e.selectedSpot.x+e.dx,y:e.selectedSpot.y},n={x:e.selectedSpot.width-e.dx,y:e.selectedSpot.height}),i.x<0&&(n.x=e.selectedSpot.x+e.selectedSpot.width,i.x=0),i.y<0&&(i.y=0,n.y=e.selectedSpot.y+e.selectedSpot.height),n.x+i.x>100&&(n.x=100-i.x),n.y+i.y>100&&(n.y=100-i.y),i.x>e.selectedSpot.x+e.selectedSpot.width&&(i.x=e.selectedSpot.x+e.selectedSpot.width),i.y>e.selectedSpot.y+e.selectedSpot.height&&(i.y=e.selectedSpot.y+e.selectedSpot.height),n.x<0&&(n.x=0),n.y<0&&(n.y=0),e.transformX=i.x,e.transformY=i.y,e.transformWidth=n.x,e.transformHeight=n.y,e.redrawEl.css({left:i.x+"%",top:i.y+"%",width:n.x+"%",height:n.y+"%"}),"poly"==e.selectedSpot.type){var S=u.general.width*(n.x/100),w=u.general.height*(n.y/100);
e.redrawSvgEl[0].setAttribute("viewBox","0 0 "+S+" "+w);for(var _="",h=0;h<e.selectedSpot.points.length;h++){var y=e.selectedSpot.points[h],f=e.selectedSpot.default_style.stroke_width+y.x/100*(S-2*e.selectedSpot.default_style.stroke_width),g=e.selectedSpot.default_style.stroke_width+y.y/100*(w-2*e.selectedSpot.default_style.stroke_width);_+=f+","+g+" "}e.redrawPolygonEl.attr("points",_)}}},i.prototype.handleMouseUp=function(o){var e=this;if(1!=parseInt(u.editor.previewMode,10)){if(e.startedDrawingSpot){var r=e.createSpot();r.x=e.ix/e.canvasWidth*100,r.y=e.iy/e.canvasHeight*100,r.x=Math.round(10*r.x)/10,r.y=Math.round(10*r.y)/10,e.selectSpot(r.id),e.redraw(),e.addAction()}else if(e.startedDrawingRect&&e.createdDrawingRect){var i=p(e.dx,e.dy);e.eventSpot.width=Math.round(10*e.drawRectWidth)/10,e.eventSpot.height=Math.round(10*e.drawRectHeight)/10,e.selectSpot(e.eventSpot.id),e.redraw(),e.addAction()}else if(e.startedDrawingOval&&e.createdDrawingOval){var i=p(e.dx,e.dy);e.eventSpot.width=Math.round(10*e.drawRectWidth)/10,e.eventSpot.height=Math.round(10*e.drawRectHeight)/10,e.selectSpot(e.eventSpot.id),e.redraw(),e.addAction()}else if(e.finishedDrawingPoly){t("#temp-poly").remove();var n=e.createPoly(e.polyPoints);e.selectSpot(n.id),e.addAction(),e.redraw()}else if(e.startedMoving){var i=p(e.selectedSpot.x+e.dx,e.selectedSpot.y+e.dy);"rect"!=e.selectedSpot.type&&"oval"!=e.selectedSpot.type&&"poly"!=e.selectedSpot.type||(i.x+e.selectedSpot.width>100&&(i.x=100-e.selectedSpot.width),i.y+e.selectedSpot.height>100&&(i.y=100-e.selectedSpot.height)),e.selectedSpot.x=Math.round(10*i.x)/10,e.selectedSpot.y=Math.round(10*i.y)/10,e.redraw(),e.addAction()}else if(e.startedTransforming)e.selectedSpot.x=Math.round(10*e.transformX)/10,e.selectedSpot.y=Math.round(10*e.transformY)/10,e.selectedSpot.width=Math.round(10*e.transformWidth)/10,e.selectedSpot.height=Math.round(10*e.transformHeight)/10,e.redraw(),e.addAction();else if(e.translatingControlPoint){e.dx/(e.selectedSpot.width/100*e.canvasWidth/e.canvasWidth),e.dy/(e.selectedSpot.height/100*e.canvasHeight/e.canvasHeight);e.updateBoundingBoxForPolygonSpot(e.selectedSpot),e.redraw(),e.addAction()}else e.startedSelecting?(e.selectedSpot&&e.selectedSpot.id!=e.eventSpotId&&e.deselectSpot(),e.selectSpot(e.eventSpotId),e.redraw(),e.addAction()):e.shouldDeselectSpot&&(e.deselectSpot(),e.redraw(),e.addAction());e.startedSelecting=!1,e.startedMoving=!1,e.startedTransforming=!1,e.transformDirection=0,e.startedDrawingSpot=!1,e.startedDrawingRect=!1,e.createdDrawingRect=!1,e.startedDrawingOval=!1,e.createdDrawingOval=!1,e.startedDrawingPoly=!1,e.finishedDrawingPoly=!1,e.mouseDownWhileDrawingPoly=!1,e.translatingControlPoint=!1,e.startedTranslatingControlPoint=!1,e.shouldDeselectSpot=!1}},i.prototype.getIndexOfSpotWithId=function(t){for(var o=0;o<u.spots.length;o++)if(u.spots[o].id==t)return o},i.prototype.selectSpot=function(t){u.editor.selected_shape=t},i.prototype.deselectSpot=function(){u.editor.selected_shape=-1},i.prototype.createIdForSpot=function(){return"spot-"+Math.floor(9999*Math.random())},i.prototype.createIdForRect=function(){return"rect-"+ +Math.floor(9999*Math.random())},i.prototype.createIdForOval=function(){return"oval-"+ +Math.floor(9999*Math.random())},i.prototype.createIdForPoly=function(){return"poly-"+ +Math.floor(9999*Math.random())},i.prototype.createSpot=function(){var o=this,e=t.extend(!0,{},b);return e.type="spot",e.id=o.createIdForSpot(),u.spots.push(e),e},i.prototype.createRect=function(){var o=this,e=t.extend(!0,{},b);return e.type="rect",e.default_style.border_radius=10,e.mouseover_style.border_radius=10,e.id=o.createIdForRect(),u.spots.push(e),e},i.prototype.createOval=function(){var o=this,e=t.extend(!0,{},b);return e.type="oval",e.id=o.createIdForOval(),u.spots.push(e),e},i.prototype.createPoly=function(){var o=this,e=t.extend(!0,{},b);e.type="poly",e.id=o.createIdForPoly();for(var r=99999,i=99999,n=0,a=0,s=0;s<o.polyPoints.length;s++){var d=o.polyPoints[s];d.x<r&&(r=d.x),d.x>n&&(n=d.x),d.y<i&&(i=d.y),d.y>a&&(a=d.y)}var l=n-r,p=a-i;e.x=r/o.canvasWidth*100,e.y=i/o.canvasHeight*100,e.width=l/o.canvasWidth*100,e.height=p/o.canvasHeight*100;for(var s=0;s<o.polyPoints.length;s++)e.points.push({x:(o.polyPoints[s].x-r)/l*100,y:(o.polyPoints[s].y-i)/p*100});return u.spots.push(e),e},i.prototype.shouldSelectPoly=function(t){for(var o,e=this,r=0;r<u.spots.length;r++)u.spots[r].id==t&&(o=u.spots[r]);var i=e.ix-o.x/100*e.canvasWidth,n=e.iy-o.y/100*e.canvasHeight,a=o.width/100*e.canvasWidth,s=o.height/100*e.canvasHeight;i=i/a*100,n=n/s*100;for(var d=new Array,r=0;r<o.points.length;r++)d.push([o.points[r].x,o.points[r].y]);return!!c({x:i,y:n},d)},i.prototype.placePointForTempPoly=function(t,o){var e=this;e.polyPoints.push({x:t,y:o})},i.prototype.redrawTempPoly=function(){for(var o=this,e='<polygon points="',r=0;r<o.polyPoints.length;r++)e+=o.polyPoints[r].x+","+o.polyPoints[r].y+" ";e+='" />';for(var r=0;r<o.polyPoints.length;r++)e+='<circle cx="'+o.polyPoints[r].x+'" cy="'+o.polyPoints[r].y+'" r="4" data-index="'+r+'" />';t("#temp-poly").html(e)},i.prototype.redrawSelectedPolyTempPoint=function(){var t,o=this,e=o.selectedSpot.width/100*o.canvasWidth,r=o.selectedSpot.height/100*o.canvasHeight,i=o.x-o.selectedSpot.x/100*o.canvasWidth,n=o.y-o.selectedSpot.y/100*o.canvasHeight,a=i/e*100,s=n/r*100;(t=o.shouldShowTempControlPoint(a,s,o.selectedSpot.points))?(o.tempControlPoint.show(),o.tempControlPointLine.show(),o.tempControlPoint.css({left:t.x+"%",top:t.y+"%"}),o.controlPointInsertionPointX=t.x,o.controlPointInsertionPointY=t.y):(o.tempControlPoint.hide(),o.tempControlPointLine.hide())},i.prototype.shouldShowTempControlPoint=function(t,o,e){for(var i=this,n={x:t,y:o},a=0;a<e.length;a++){var s={x:e[a].x,y:e[a].y},d=r;d=e[a+1]?{x:e[a+1].x,y:e[a+1].y}:{x:e[0].x,y:e[0].y};var l=h([n.x,n.y],[s.x,s.y],[d.x,d.y]),p=_(s.x,s.y,d.x,d.y,n.x,n.y),c=d.x-s.x,y=d.y-s.y;if(Math.abs(l-.5)<.45&&p<5)return i.tempControlPointIndex=a,{x:s.x+l*c,y:s.y+l*y}}return!1},i.prototype.updateBoundingBoxForPolygonSpot=function(t){for(var o=99999,e=99999,r=-99999,i=-99999,n=0;n<t.points.length;n++){var a=t.points[n];a.x<o&&(o=a.x),a.x>r&&(r=a.x),a.y<e&&(e=a.y),a.y>i&&(i=a.y)}for(var s=d({x:o,y:e},t),p=d({x:r,y:i},t),n=0;n<t.points.length;n++){var a=t.points[n],c=d(a,t),_=l(c,{x:s.x,y:s.y,width:p.x-s.x,height:p.y-s.y});a.x=_.x,a.y=_.y}t.x=s.x,t.y=s.y,t.width=p.x-s.x,t.height=p.y-s.y},i.prototype.updateShapesList=function(){for(var o=[],e=0;e<u.spots.length;e++){var r=u.spots[e];o.push({id:r.id,title:r.id})}t.wcpEditorSetListItems(o),t.wcpEditorSelectListItem(u.editor.selected_shape)},i.prototype.updateShapesForm=function(){var o=this.getIndexOfSpotWithId(u.editor.selected_shape),e=u.spots[o];if(e){if(t.wcpEditorSetControlValue("Shape Settings","x",e.x),t.wcpEditorSetControlValue("Shape Settings","y",e.y),t.wcpEditorSetControlValue("Shape Settings","width",e.width),t.wcpEditorSetControlValue("Shape Settings","height",e.height),t.wcpEditorSetControlValue("Shape Settings","mouseover",e.actions.mouseover),t.wcpEditorSetControlValue("Shape Settings","click",e.actions.click),t.wcpEditorSetControlValue("Shape Settings","link",e.actions.link),t.wcpEditorSetControlValue("Shape Settings","open_link_in_new_window",e.actions.open_link_in_new_window),t.wcpEditorSetControlValue("Shape Settings","use_icon",e.default_style.use_icon),t.wcpEditorSetControlValue("Shape Settings","icon_type",e.default_style.icon_type),t.wcpEditorSetControlValue("Shape Settings","icon_svg_path",e.default_style.icon_svg_path),t.wcpEditorSetControlValue("Shape Settings","icon_svg_viewbox",e.default_style.icon_svg_viewbox),t.wcpEditorSetControlValue("Shape Settings","icon_url",e.default_style.icon_url),t.wcpEditorSetControlValue("Shape Settings","icon_is_pin",e.default_style.icon_is_pin),t.wcpEditorSetControlValue("Shape Settings","icon_shadow",e.default_style.icon_shadow),t.wcpEditorSetControlValue("Shape Settings","opacity",e.default_style.opacity),t.wcpEditorSetControlValue("Shape Settings","icon_fill",e.default_style.icon_fill),t.wcpEditorSetControlValue("Shape Settings","border_radius",e.default_style.border_radius),t.wcpEditorSetControlValue("Shape Settings","background_color",e.default_style.background_color),t.wcpEditorSetControlValue("Shape Settings","background_opacity",e.default_style.background_opacity),t.wcpEditorSetControlValue("Shape Settings","border_width",e.default_style.border_width),t.wcpEditorSetControlValue("Shape Settings","border_style",e.default_style.border_style),t.wcpEditorSetControlValue("Shape Settings","border_color",e.default_style.border_color),t.wcpEditorSetControlValue("Shape Settings","border_opacity",e.default_style.border_opacity),t.wcpEditorSetControlValue("Shape Settings","fill",e.default_style.fill),t.wcpEditorSetControlValue("Shape Settings","fill_opacity",e.default_style.fill_opacity),t.wcpEditorSetControlValue("Shape Settings","stroke_color",e.default_style.stroke_color),t.wcpEditorSetControlValue("Shape Settings","stroke_opacity",e.default_style.stroke_opacity),t.wcpEditorSetControlValue("Shape Settings","stroke_width",e.default_style.stroke_width),t.wcpEditorSetControlValue("Shape Settings","stroke_dasharray",e.default_style.stroke_dasharray),t.wcpEditorSetControlValue("Shape Settings","stroke_linecap",e.default_style.stroke_linecap),t.wcpEditorSetControlValue("Shape Settings","mouseover_opacity",e.mouseover_style.opacity),t.wcpEditorSetControlValue("Shape Settings","mouseover_icon_fill",e.mouseover_style.icon_fill),t.wcpEditorSetControlValue("Shape Settings","mouseover_border_radius",e.mouseover_style.border_radius),t.wcpEditorSetControlValue("Shape Settings","mouseover_background_color",e.mouseover_style.background_color),t.wcpEditorSetControlValue("Shape Settings","mouseover_background_opacity",e.mouseover_style.background_opacity),t.wcpEditorSetControlValue("Shape Settings","mouseover_border_width",e.mouseover_style.border_width),t.wcpEditorSetControlValue("Shape Settings","mouseover_border_style",e.mouseover_style.border_style),t.wcpEditorSetControlValue("Shape Settings","mouseover_border_color",e.mouseover_style.border_color),t.wcpEditorSetControlValue("Shape Settings","mouseover_border_opacity",e.mouseover_style.border_opacity),t.wcpEditorSetControlValue("Shape Settings","mouseover_fill",e.mouseover_style.fill),t.wcpEditorSetControlValue("Shape Settings","mouseover_fill_opacity",e.mouseover_style.fill_opacity),t.wcpEditorSetControlValue("Shape Settings","mouseover_stroke_color",e.mouseover_style.stroke_color),t.wcpEditorSetControlValue("Shape Settings","mouseover_stroke_opacity",e.mouseover_style.stroke_opacity),t.wcpEditorSetControlValue("Shape Settings","mouseover_stroke_width",e.mouseover_style.stroke_width),t.wcpEditorSetControlValue("Shape Settings","mouseover_stroke_dasharray",e.mouseover_style.stroke_dasharray),t.wcpEditorSetControlValue("Shape Settings","mouseover_stroke_linecap",e.mouseover_style.stroke_linecap),t.wcpEditorSetControlValue("Shape Settings","tooltip_border_radius",e.tooltip_style.border_radius),t.wcpEditorSetControlValue("Shape Settings","tooltip_padding",e.tooltip_style.padding),t.wcpEditorSetControlValue("Shape Settings","tooltip_background_color",e.tooltip_style.background_color),t.wcpEditorSetControlValue("Shape Settings","tooltip_background_opacity",e.tooltip_style.background_opacity),t.wcpEditorSetControlValue("Shape Settings","tooltip_position",e.tooltip_style.position),t.wcpEditorSetControlValue("Shape Settings","tooltip_width",e.tooltip_style.width),t.wcpEditorSetControlValue("Shape Settings","tooltip_auto_width",e.tooltip_style.auto_width),t.wcpEditorSetControlValue("Shape Settings","tooltip_content_type",e.tooltip_content.content_type),t.wcpEditorSetControlValue("Shape Settings","plain_text",e.tooltip_content.plain_text),t.wcpEditorSetControlValue("Shape Settings","squares_settings",e.tooltip_content.squares_settings),o==this.shapesFormSpotIndex)return;this.shapesFormSpotIndex=o;var r=t.wcpEditorGetHTMLForFormWithName("Shape Settings");t.wcpEditorSetContentForTabWithName("Shape",r),t.wcpEditorUpdateForm("Shape Settings"),t.wcpEditorOpenMainTabWithName("Shape"),this.updateShapesFormStateMaster()}else this.shapesFormSpotIndex=-1,t.wcpEditorSetContentForTabWithName("Shape",'<div class="wcp-editor-form-tabs-content-wrap">No shape selected.</div>')},i.prototype.updateShapesFormState=function(){var o=this.getIndexOfSpotWithId(u.editor.selected_shape),e=u.spots[o];e&&("spot"==e.type&&(1==parseInt(e.default_style.use_icon,10)?(t.wcpEditorFormShowControl("Shape Settings","icon_type"),"library"==e.default_style.icon_type&&(t.wcpEditorFormHideControl("Shape Settings","icon_url"),t.wcpEditorFormShowControl("Shape Settings","choose_icon_from_library")),"custom"==e.default_style.icon_type&&(t.wcpEditorFormShowControl("Shape Settings","icon_url"),t.wcpEditorFormHideControl("Shape Settings","choose_icon_from_library")),t.wcpEditorFormShowControl("Shape Settings","icon_is_pin"),t.wcpEditorFormShowControl("Shape Settings","icon_shadow"),t.wcpEditorFormShowControl("Shape Settings","icon_fill"),t.wcpEditorFormHideControl("Shape Settings","border_radius"),t.wcpEditorFormHideControl("Shape Settings","background_color"),t.wcpEditorFormHideControl("Shape Settings","background_opacity"),t.wcpEditorFormHideControl("Shape Settings","border_width"),t.wcpEditorFormHideControl("Shape Settings","border_style"),t.wcpEditorFormHideControl("Shape Settings","border_color"),t.wcpEditorFormHideControl("Shape Settings","border_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_icon_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_radius"),t.wcpEditorFormHideControl("Shape Settings","mouseover_background_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_background_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_width"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_style"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_opacity")):(t.wcpEditorFormHideControl("Shape Settings","choose_icon_from_library"),t.wcpEditorFormHideControl("Shape Settings","icon_type"),t.wcpEditorFormHideControl("Shape Settings","icon_url"),t.wcpEditorFormHideControl("Shape Settings","icon_is_pin"),t.wcpEditorFormHideControl("Shape Settings","icon_shadow"),t.wcpEditorFormHideControl("Shape Settings","icon_fill"),t.wcpEditorFormShowControl("Shape Settings","border_radius"),t.wcpEditorFormShowControl("Shape Settings","background_color"),t.wcpEditorFormShowControl("Shape Settings","background_opacity"),t.wcpEditorFormShowControl("Shape Settings","border_width"),t.wcpEditorFormShowControl("Shape Settings","border_style"),t.wcpEditorFormShowControl("Shape Settings","border_color"),t.wcpEditorFormShowControl("Shape Settings","border_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_icon_fill"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_radius"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_width"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_style"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_opacity"))),"plain-text"==e.tooltip_content.content_type?(t.wcpEditorFormShowControl("Shape Settings","plain_text"),t.wcpEditorFormHideControl("Shape Settings","launch_content_builder"),t.wcpEditorFormShowControl("Shape Settings","plain_text_color")):(t.wcpEditorFormHideControl("Shape Settings","plain_text"),t.wcpEditorFormShowControl("Shape Settings","launch_content_builder"),t.wcpEditorFormHideControl("Shape Settings","plain_text_color")))},i.prototype.updateShapesFormStateMaster=function(){var o=this.getIndexOfSpotWithId(u.editor.selected_shape),e=u.spots[o];e&&("spot"==e.type&&(t.wcpEditorFormShowControlsGroup("Shape Settings","icon"),t.wcpEditorFormShowControl("Shape Settings","icon_fill"),t.wcpEditorFormShowControl("Shape Settings","mouseover_icon_fill"),t.wcpEditorFormShowControl("Shape Settings","opacity"),t.wcpEditorFormShowControl("Shape Settings","border_radius"),t.wcpEditorFormShowControl("Shape Settings","background_color"),t.wcpEditorFormShowControl("Shape Settings","background_opacity"),t.wcpEditorFormShowControl("Shape Settings","border_width"),t.wcpEditorFormShowControl("Shape Settings","border_style"),t.wcpEditorFormShowControl("Shape Settings","border_color"),t.wcpEditorFormShowControl("Shape Settings","border_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_radius"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_width"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_style"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_opacity"),t.wcpEditorFormHideControl("Shape Settings","fill"),t.wcpEditorFormHideControl("Shape Settings","fill_opacity"),t.wcpEditorFormHideControl("Shape Settings","stroke_color"),t.wcpEditorFormHideControl("Shape Settings","stroke_opacity"),t.wcpEditorFormHideControl("Shape Settings","stroke_width"),t.wcpEditorFormHideControl("Shape Settings","stroke_dasharray"),t.wcpEditorFormHideControl("Shape Settings","stroke_linecap"),t.wcpEditorFormHideControl("Shape Settings","mouseover_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_fill_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_width"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_dasharray"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_linecap")),"rect"==e.type&&(t.wcpEditorFormHideControlsGroup("Shape Settings","icon"),t.wcpEditorFormHideControl("Shape Settings","icon_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_icon_fill"),t.wcpEditorFormShowControl("Shape Settings","opacity"),t.wcpEditorFormShowControl("Shape Settings","border_radius"),t.wcpEditorFormShowControl("Shape Settings","background_color"),t.wcpEditorFormShowControl("Shape Settings","background_opacity"),t.wcpEditorFormShowControl("Shape Settings","border_width"),t.wcpEditorFormShowControl("Shape Settings","border_style"),t.wcpEditorFormShowControl("Shape Settings","border_color"),t.wcpEditorFormShowControl("Shape Settings","border_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_radius"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_width"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_style"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_opacity"),t.wcpEditorFormHideControl("Shape Settings","fill"),t.wcpEditorFormHideControl("Shape Settings","fill_opacity"),t.wcpEditorFormHideControl("Shape Settings","stroke_color"),t.wcpEditorFormHideControl("Shape Settings","stroke_opacity"),t.wcpEditorFormHideControl("Shape Settings","stroke_width"),t.wcpEditorFormHideControl("Shape Settings","stroke_dasharray"),t.wcpEditorFormHideControl("Shape Settings","stroke_linecap"),t.wcpEditorFormHideControl("Shape Settings","mouseover_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_fill_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_width"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_dasharray"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_linecap")),"oval"==e.type&&(t.wcpEditorFormHideControlsGroup("Shape Settings","icon"),t.wcpEditorFormHideControl("Shape Settings","icon_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_icon_fill"),t.wcpEditorFormShowControl("Shape Settings","opacity"),t.wcpEditorFormShowControl("Shape Settings","border_radius"),t.wcpEditorFormShowControl("Shape Settings","background_color"),t.wcpEditorFormShowControl("Shape Settings","background_opacity"),t.wcpEditorFormShowControl("Shape Settings","border_width"),t.wcpEditorFormShowControl("Shape Settings","border_style"),t.wcpEditorFormShowControl("Shape Settings","border_color"),t.wcpEditorFormShowControl("Shape Settings","border_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_radius"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_background_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_width"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_style"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_border_opacity"),t.wcpEditorFormHideControl("Shape Settings","fill"),t.wcpEditorFormHideControl("Shape Settings","fill_opacity"),t.wcpEditorFormHideControl("Shape Settings","stroke_color"),t.wcpEditorFormHideControl("Shape Settings","stroke_opacity"),t.wcpEditorFormHideControl("Shape Settings","stroke_width"),t.wcpEditorFormHideControl("Shape Settings","stroke_dasharray"),t.wcpEditorFormHideControl("Shape Settings","stroke_linecap"),t.wcpEditorFormHideControl("Shape Settings","mouseover_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_fill_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_width"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_dasharray"),t.wcpEditorFormHideControl("Shape Settings","mouseover_stroke_linecap")),"poly"==e.type&&(t.wcpEditorFormHideControlsGroup("Shape Settings","icon"),t.wcpEditorFormHideControl("Shape Settings","icon_fill"),t.wcpEditorFormHideControl("Shape Settings","mouseover_icon_fill"),t.wcpEditorFormHideControl("Shape Settings","opacity"),t.wcpEditorFormHideControl("Shape Settings","border_radius"),t.wcpEditorFormHideControl("Shape Settings","background_color"),t.wcpEditorFormHideControl("Shape Settings","background_opacity"),t.wcpEditorFormHideControl("Shape Settings","border_width"),t.wcpEditorFormHideControl("Shape Settings","border_style"),t.wcpEditorFormHideControl("Shape Settings","border_color"),t.wcpEditorFormHideControl("Shape Settings","border_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_radius"),t.wcpEditorFormHideControl("Shape Settings","mouseover_background_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_background_opacity"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_width"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_style"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_color"),t.wcpEditorFormHideControl("Shape Settings","mouseover_border_opacity"),t.wcpEditorFormShowControl("Shape Settings","fill"),t.wcpEditorFormShowControl("Shape Settings","fill_opacity"),t.wcpEditorFormShowControl("Shape Settings","stroke_color"),t.wcpEditorFormShowControl("Shape Settings","stroke_opacity"),t.wcpEditorFormShowControl("Shape Settings","stroke_width"),t.wcpEditorFormShowControl("Shape Settings","stroke_dasharray"),t.wcpEditorFormShowControl("Shape Settings","stroke_linecap"),t.wcpEditorFormShowControl("Shape Settings","mouseover_fill"),t.wcpEditorFormShowControl("Shape Settings","mouseover_fill_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_stroke_color"),t.wcpEditorFormShowControl("Shape Settings","mouseover_stroke_opacity"),t.wcpEditorFormShowControl("Shape Settings","mouseover_stroke_width"),t.wcpEditorFormShowControl("Shape Settings","mouseover_stroke_dasharray"),t.wcpEditorFormShowControl("Shape Settings","mouseover_stroke_linecap")))},i.prototype.updateImageMapForm=function(){t.wcpEditorSetControlValue("Image Map Settings","image_map_name",u.general.name),t.wcpEditorSetControlValue("Image Map Settings","image_map_shortcode",u.general.shortcode),t.wcpEditorSetControlValue("Image Map Settings","image_map_width",u.general.width),t.wcpEditorSetControlValue("Image Map Settings","image_map_height",u.general.height),t.wcpEditorSetControlValue("Image Map Settings","responsive",u.general.responsive),t.wcpEditorSetControlValue("Image Map Settings","sticky_tooltips",u.general.sticky_tooltips),t.wcpEditorSetControlValue("Image Map Settings","constrain_tooltips",u.general.constrain_tooltips),t.wcpEditorSetControlValue("Image Map Settings","image_url",u.general.image_url),t.wcpEditorSetControlValue("Image Map Settings","tooltip_animation",u.general.tooltip_animation),t.wcpEditorSetControlValue("Image Map Settings","pageload_animation",u.general.pageload_animation),t.wcpEditorSetControlValue("Image Map Settings","fullscreen_tooltips",u.general.fullscreen_tooltips),t.wcpEditorSetControlValue("Image Map Settings","late_initialization",u.general.late_initialization),t.wcpEditorUpdateForm("Image Map Settings")},i.prototype.launchTooltipContentBuilder=function(){if(0==t("#imp-editor-tooltip-content-builder-wrap").length){var o="";o+='<div id="imp-editor-tooltip-content-builder-wrap">',o+='   <div id="imp-editor-tooltip-content-builder-background"></div>',o+='   <div id="imp-editor-tooltip-content-builder-close"><i class="fa fa-times" aria-hidden="true"></i></div>',o+='   <div id="imp-editor-tooltip-content-builder-tooltip-wrap" class="squares">',o+='       <div id="imp-editor-tooltip-content-builder" class="squares"></div>',o+="   </div>",o+='   <div id="imp-editor-tooltip-content-builder-description">',o+="       <p>Press the Done button when you are done editing, or click the Close button in the upper-right corner.</p>",o+="   </div>",o+='   <div class="wcp-editor-control-button" id="imp-editor-done-editing-tooltip">Done</div>',o+="</div>",t("body").append(o)}else t("#imp-editor-tooltip-content-builder-wrap").show();setTimeout(function(){t("#imp-editor-tooltip-content-builder-wrap").addClass("imp-visible")},10);var e=this.selectedSpot.tooltip_style.width,r=a(this.selectedSpot.tooltip_style.background_color),i="rgba("+r.r+", "+r.g+", "+r.b+", "+this.selectedSpot.tooltip_style.background_opacity+")";t("#imp-editor-tooltip-content-builder-tooltip-wrap").css({width:e,background:i}),t.squaresInitWithSettings(t("#imp-editor-tooltip-content-builder"),this.selectedSpot.tooltip_content.squares_settings),t.squaresShowEditorWindow(20,20)},i.prototype.doneEditingTooltip=function(){var o=t.squaresGetCurrentSettings(t("#imp-editor-tooltip-content-builder"));t.squaresGenerateHTML(t("#imp-editor-tooltip-content-builder"));this.selectedSpot.tooltip_content.squares_settings=o,this.redraw()},i.prototype.getCompressedSettings=function(){for(var o=t.extend(!0,{},u),e=[],r=0;r<o.spots.length;r++)e[r]=t.wcpCompress(o.spots[r],b),console.log(e[r]),e[r].x=Math.round(1e3*e[r].x)/1e3,e[r].y=Math.round(1e3*e[r].y)/1e3,e[r].width&&(e[r].width=Math.round(1e3*e[r].width)/1e3),e[r].height&&(e[r].height=Math.round(1e3*e[r].height)/1e3);return o=t.wcpCompress(u,v),o.spots=e,o}}(jQuery,window,document);